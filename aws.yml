---

###### instance configuration ######

test-instance:
  region: us-east-1
  availability_zone: us-east-1a
  ami_id: ami-9887c6e7
  cidr_block: 10.0.0.0/24
  enable_dns_hostnames: true
  # Consul path to tree where AWS properties will be written
  path_to_generated_aws_properties: aws-properties/test-instance
  vpc_name: "Terraform VPC"
  gateway_name: "Terraform IGW"
  route_table_cidr_block_all: 0.0.0.0/0
  subnet_name: "Terraform Subnet"
  map_public_ip_on_launch: true
  security_group_name: terraform-security-group
######################

###### multinode configuration ######

max-cluster:
  type: cluster
  instance_type: t2.xlarge
  no_datanodes: 1
  cluster_name: max-cluster
  ambari_version: "2.7.3.0"
  hdp_version: "3.1.0.0"
  hdp_build_number: "78"
  database: postgres
  ambari_services: "- AMBARI_SERVER\n      - METRICS_COLLECTOR\n      - METRICS_MONITOR\n      - JOURNALNODE\n      - APP_TIMELINE_SERVER\n      - HST_SERVER\n      - HST_AGENT\n      - HISTORYSERVER\n      - SPARK2_JOBHISTORYSERVER\n      - KNOX_GATEWAY\n      - RANGER_ADMIN\n      - RANGER_USERSYNC\n      - RANGER_KMS_SERVER\n      - YARN_REGISTRY_DNS\n      - TIMELINE_READER"
  master_clients: "['ZOOKEEPER_CLIENT', 'HDFS_CLIENT', 'YARN_CLIENT', 'MAPREDUCE2_CLIENT', 'HIVE_CLIENT', 'TEZ_CLIENT', 'SQOOP', 'HBASE_CLIENT', 'PIG', 'SPARK2_CLIENT']"
  master_services: "- ZOOKEEPER_SERVER\n      - NAMENODE\n      - METRICS_MONITOR\n      - JOURNALNODE\n      - ZKFC\n      - RESOURCEMANAGER\n      - HIVE_SERVER\n      - HIVE_METASTORE\n      - HBASE_MASTER\n      - HST_AGENT"
  slave_clients: "['ZOOKEEPER_CLIENT', 'HDFS_CLIENT', 'YARN_CLIENT', 'MAPREDUCE2_CLIENT', 'HIVE_CLIENT', 'TEZ_CLIENT', 'SQOOP', 'HBASE_CLIENT', 'PIG', 'SPARK2_CLIENT']"
  slave_services: "- METRICS_MONITOR\n      - DATANODE\n      - NODEMANAGER\n      - HST_AGENT\n      - HBASE_REGIONSERVER"
# When installing HDP 3 the component HCAT must not be part of the blueprint.
# When installing HDP 3 the component SLIDER must not be part of the blueprint.

min-cluster:
  type: cluster
  instance_type: t2.large
  no_datanodes: 4
  cluster_name: min-cluster
  ambari_version: "2.7.3.0"
  hdp_version: "3.1.0.0"
  hdp_build_number: "78"
  database: "embedded"
  ambari_services: "- AMBARI_SERVER\n      - METRICS_COLLECTOR\n      - METRICS_MONITOR\n      - JOURNALNODE"
  master_clients: "['ZOOKEEPER_CLIENT', 'HDFS_CLIENT']"
  master_services: "- ZOOKEEPER_SERVER\n      - NAMENODE\n      - METRICS_MONITOR\n      - JOURNALNODE\n      - ZKFC"
  slave_clients: "['ZOOKEEPER_CLIENT', 'HDFS_CLIENT']"
  slave_services: "- METRICS_MONITOR\n      - DATANODE"

############################################################

# single node cluster with minimal services
min-single:
  type: "single"
  instance_type: "t2.large"
  cluster_name: "min-single"
  ambari_version: "2.7.3.0"
  hdp_version: "3.1.0.0"
  hdp_build_number: "78"
  database: "embedded"
  master_clients: "['ZOOKEEPER_CLIENT', 'HDFS_CLIENT']"
  master_services: "- AMBARI_SERVER\n      - METRICS_COLLECTOR\n      - METRICS_MONITOR\n      - ZOOKEEPER_SERVER\n      - NAMENODE\n      - SECONDARY_NAMENODE\n      - DATANODE"
  components: '{"name" : "ZOOKEEPER_CLIENT"},
 {"name" : "HDFS_CLIENT"},
 {"name" : "AMBARI_SERVER"},
 {"name" : "METRICS_COLLECTOR"},
 {"name" : "METRICS_MONITOR"},
 {"name" : "ZOOKEEPER_SERVER"},
 {"name" : "NAMENODE"},
 {"name" : "SECONDARY_NAMENODE"},
 {"name" : "DATANODE"}'

  #"['ZOOKEEPER_CLIENT', 'HDFS_CLIENT', 'AMBARI_SERVER', 'METRICS_COLLECTOR', 'METRICS_MONITOR', 'ZOOKEEPER_SERVER', 'NAMENODE', 'SECONDARY_NAMENODE', 'DATANODE']"

# single node cluster with Hive for work with S3
hive-s3:
  type: "single"
  instance_type: "t2.xlarge"
  cluster_name: "hive-s3"
  ambari_version: "2.7.3.0"
  hdp_version: "3.1.0.0"
  hdp_build_number: "78"
  database: "embedded"
  master_clients: "['ZOOKEEPER_CLIENT', 'HDFS_CLIENT', 'HIVE_CLIENT', 'MAPREDUCE2_CLIENT', 'YARN_CLIENT']"
  master_services: "- AMBARI_SERVER\n      - METRICS_COLLECTOR\n      - METRICS_MONITOR\n      - ZOOKEEPER_SERVER\n      - NAMENODE\n      - SECONDARY_NAMENODE\n      - METRICS_MONITOR\n      - DATANODE\n      - METRICS_MONITOR\n      - HIVE_SERVER\n      - HIVE_METASTORE\n      - HISTORYSERVER\n      - TIMELINE_READER\n      - YARN_REGISTRY_DNS\n      - APP_TIMELINE_SERVER\n      - NODEMANAGER\n      - RESOURCEMANAGER"


# single node cluster with Hive, Yarn and Mapreduce
hdp-single:
  type: single
  instance_type: t2.xlarge
  cluster_name: hdp-single
  ambari_version: "2.7.3.0"
  hdp_version: "3.1.0.0"
  hdp_build_number: "78"
  database: "embedded"
  master_clients: "['ZOOKEEPER_CLIENT', 'HDFS_CLIENT', 'YARN_CLIENT', 'MAPREDUCE2_CLIENT', 'HIVE_CLIENT']"
  master_services: "- ZOOKEEPER_SERVER\n      - NAMENODE\n      - SECONDARY_NAMENODE\n      - RESOURCEMANAGER\n      - APP_TIMELINE_SERVER\n      - HISTORYSERVER\n      - HIVE_SERVER\n      - HIVE_METASTORE\n      - AMBARI_SERVER\n      - METRICS_COLLECTOR\n      - METRICS_MONITOR\n      - DATANODE\n      - NODEMANAGER\n      - HST_SERVER\n      - YARN_REGISTRY_DNS\n      - TIMELINE_READER"
# When installing HDP 3 the component WEBHCAT_SERVER must not be part of the blueprint.


r-server:
  instance_type: t2.small
  no_instances: 1
  tags:
    Name: r-server
